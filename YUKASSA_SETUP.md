# Подключение ЮКассы для онлайн-оплаты

## Что нужно для подключения ЮКассы:

### 1. Регистрация в ЮКассе
- Перейти на https://yookassa.ru/
- Зарегистрироваться как юридическое лицо или ИП
- Пройти верификацию (загрузить документы)

### 2. Получить API ключи
После регистрации в личном кабинете:
- **shopId** - ID вашего магазина
- **Secret Key** - секретный ключ для API

### 3. Настроить Webhook
В настройках ЮКассы указать URL для уведомлений о платежах:
```
https://mandanator.ru/webhook/yukassa
```

### 4. Что предоставить для интеграции:

Добавьте в `.env` файл:
```bash
YUKASSA_SHOP_ID=ваш_shop_id
YUKASSA_SECRET_KEY=ваш_secret_key
```

## Как это работает:

1. **Пользователь выбирает "Онлайн (ЮКасса)"** в WebApp
2. **Создается платеж** через API ЮКассы
3. **Пользователь получает ссылку** на оплату
4. **Оплачивает** картой/СБП/другими методами
5. **ЮКасса отправляет webhook** на наш сервер
6. **Меняется статус заказа** на "Оплачен"
7. **Уведомление пользователю** о подтверждении

## Альтернатива - Telegram Payment Provider

Можно использовать встроенные платежи Telegram:
- Не нужна отдельная регистрация в ЮКассе
- Telegram сам обрабатывает платежи
- Комиссия ~2-3%
- Поддержка карт, Apple Pay, Google Pay

Для этого нужен только **Payment Provider Token** от @BotFather.

## Что выбрать?

**ЮКасса** - если:
- Есть ООО/ИП
- Нужен полный контроль над платежами
- Хотите минимальную комиссию

**Telegram Payments** - если:
- Быстрый старт без документов
- Не хотите возиться с регистрацией
- Небольшие объемы платежей
