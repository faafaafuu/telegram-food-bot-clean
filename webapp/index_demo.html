<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>Jafood - –î–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif; background: #f5f5f5; }
        .header { background: #fff; padding: 16px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; text-align: center; }
        .header h1 { font-size: 28px; color: #ff6900; font-weight: 700; }
        .tabs { display: flex; gap: 12px; padding: 16px; overflow-x: auto; background: #fff; white-space: nowrap; }
        .tabs::-webkit-scrollbar { height: 6px; }
        .tabs::-webkit-scrollbar-thumb { background: #ddd; border-radius: 3px; }
        .tab { padding: 10px 20px; border-radius: 20px; background: #f0f0f0; cursor: pointer; font-size: 15px; font-weight: 500; border: none; transition: all 0.2s; }
        .tab.active { background: #ff6900; color: #fff; font-weight: 600; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); gap: 16px; padding: 16px; }
        .card { background: #fff; border-radius: 16px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.08); transition: transform 0.2s, box-shadow 0.2s; }
        .card:hover { transform: translateY(-4px); box-shadow: 0 4px 16px rgba(0,0,0,0.12); }
        .card img { width: 100%; height: 170px; object-fit: cover; }
        .card-body { padding: 14px; }
        .card-title { font-size: 15px; font-weight: 600; margin-bottom: 6px; color: #222; }
        .card-price { font-size: 18px; font-weight: 700; color: #ff6900; margin: 10px 0; }
        .card-desc { font-size: 13px; color: #666; margin: 6px 0; line-height: 1.4; }
        .btn-add { background: #ff6900; color: #fff; border: none; padding: 10px 16px; border-radius: 10px; cursor: pointer; margin-top: 10px; width: 100%; font-size: 14px; font-weight: 600; transition: background 0.2s; }
        .btn-add:hover { background: #e55e00; }
        .cart-btn { position: fixed; bottom: 20px; right: 20px; background: #ff6900; color: #fff; padding: 14px 28px; border-radius: 28px; cursor: pointer; box-shadow: 0 4px 20px rgba(255,105,0,0.4); z-index: 200; border: none; font-size: 17px; font-weight: 600; transition: all 0.2s; }
        .cart-btn:hover { background: #e55e00; transform: scale(1.05); }
        .cart-count { background: #fff; color: #ff6900; border-radius: 50%; padding: 3px 10px; margin-left: 10px; font-weight: 700; font-size: 15px; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 300; align-items: center; justify-content: center; }
        .modal.show { display: flex; }
        .modal-content { background: #fff; border-radius: 16px; max-width: 500px; width: 92%; max-height: 85%; overflow-y: auto; padding: 26px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .modal-header h2 { font-size: 24px; font-weight: 700; color: #222; }
        .close { font-size: 32px; cursor: pointer; color: #666; line-height: 1; transition: color 0.2s; }
        .close:hover { color: #ff6900; }
        .cart-item { display: flex; justify-content: space-between; padding: 14px 0; border-bottom: 1px solid #eee; font-size: 15px; }
        .cart-item:last-child { border-bottom: none; }
        .cart-total { font-size: 22px; font-weight: 700; margin-top: 20px; text-align: right; color: #ff6900; }
        .btn-checkout { background: #ff6900; color: #fff; border: none; padding: 14px; border-radius: 12px; cursor: pointer; width: 100%; margin-top: 20px; font-size: 17px; font-weight: 600; transition: background 0.2s; }
        .btn-checkout:hover { background: #e55e00; }
        .empty-cart { text-align: center; color: #999; padding: 40px 20px; font-size: 16px; }
        @media (max-width: 520px) { 
            .grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; padding: 12px; }
            .card img { height: 140px; }
        }
    </style>
</head>
<body>
    <div class="header"><h1>üçï Jafood</h1></div>
    <div class="tabs" id="tabs"></div>
    <div class="grid" id="content"></div>
    <button class="cart-btn" onclick="openCart()">–ö–æ—Ä–∑–∏–Ω–∞ <span class="cart-count" id="cartCount">0</span></button>
    <div class="modal" id="cartModal" onclick="closeCartOnOutside(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
                <span class="close" onclick="closeCart()">&times;</span>
            </div>
            <div id="cartItems"></div>
            <div class="cart-total">–ò—Ç–æ–≥–æ: <span id="cartTotal">0</span> ‚ÇΩ</div>
            <button class="btn-checkout" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
    </div>
    <script>
        const categories = [
            { id: 1, name: 'ÔøΩÔøΩ –ü–∏—Ü—Ü–∞' },
            { id: 2, name: 'üç£ –†–æ–ª–ª—ã' },
            { id: 3, name: 'ü•§ –ù–∞–ø–∏—Ç–∫–∏' },
            { id: 4, name: 'üç∞ –î–µ—Å–µ—Ä—Ç—ã' }
        ];
        const products = [
            { id: 1, category_id: 1, name: '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞', price: 450, image: 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400&h=300&fit=crop', description: '–¢–æ–º–∞—Ç—ã, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –±–∞–∑–∏–ª–∏–∫' },
            { id: 2, category_id: 1, name: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏', price: 520, image: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?w=400&h=300&fit=crop', description: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, —Ç–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å' },
            { id: 3, category_id: 1, name: '–ß–µ—Ç—ã—Ä–µ —Å—ã—Ä–∞', price: 590, image: 'https://images.unsplash.com/photo-1571407970349-bc81e7e96a47?w=400&h=300&fit=crop', description: '–ú–æ—Ü–∞—Ä–µ–ª–ª–∞, –ø–∞—Ä–º–µ–∑–∞–Ω, –¥–æ—Ä –±–ª—é, —á–µ–¥–¥–µ—Ä' },
            { id: 4, category_id: 2, name: '–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è', price: 380, image: 'https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=400&h=300&fit=crop', description: '–ö—Ä–∞–±, –∞–≤–æ–∫–∞–¥–æ, –∏–∫—Ä–∞ —Ç–æ–±–∏–∫–æ' },
            { id: 5, category_id: 2, name: '–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è', price: 420, image: 'https://images.unsplash.com/photo-1617196034183-421b4917c92d?w=400&h=300&fit=crop', description: '–õ–æ—Å–æ—Å—å, —Å–ª–∏–≤–æ—á–Ω—ã–π —Å—ã—Ä, –æ–≥—É—Ä–µ—Ü' },
            { id: 6, category_id: 2, name: '–î—Ä–∞–∫–æ–Ω', price: 480, image: 'https://images.unsplash.com/photo-1563612116625-3012372fccce?w=400&h=300&fit=crop', description: '–£–≥–æ—Ä—å, –∞–≤–æ–∫–∞–¥–æ, —É–Ω–∞–≥–∏ —Å–æ—É—Å' },
            { id: 7, category_id: 3, name: '–ö–æ–ª–∞ 0.5–ª', price: 120, image: 'https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400&h=300&fit=crop', description: 'Coca-Cola, –æ—Å–≤–µ–∂–∞—é—â–∏–π –Ω–∞–ø–∏—Ç–æ–∫' },
            { id: 8, category_id: 3, name: '–°–æ–∫ –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π', price: 150, image: 'https://images.unsplash.com/photo-1600271886742-f049cd451bba?w=400&h=300&fit=crop', description: '–°–≤–µ–∂–µ–≤—ã–∂–∞—Ç—ã–π –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π —Å–æ–∫' },
            { id: 9, category_id: 4, name: '–¢–∏—Ä–∞–º–∏—Å—É', price: 250, image: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=400&h=300&fit=crop', description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –¥–µ—Å–µ—Ä—Ç' },
            { id: 10, category_id: 4, name: '–ß–∏–∑–∫–µ–π–∫', price: 280, image: 'https://images.unsplash.com/photo-1533134486753-c833f0ed4866?w=400&h=300&fit=crop', description: '–ù—å—é-–ô–æ—Ä–∫ —á–∏–∑–∫–µ–π–∫ —Å —è–≥–æ–¥–∞–º–∏' }
        ];
        let cart = [];
        let activeCategory = 1;

        function renderTabs() {
            const tabs = document.getElementById('tabs');
            tabs.innerHTML = categories.map(c => 
                '<button class="tab ' + (c.id === activeCategory ? 'active' : '') + '" onclick="selectCategory(' + c.id + ')">' + c.name + '</button>'
            ).join('');
        }

        function renderProducts() {
            const content = document.getElementById('content');
            const filtered = products.filter(p => p.category_id === activeCategory);
            content.innerHTML = filtered.map(p => 
                '<div class="card">' +
                    '<img src="' + p.image + '" alt="' + p.name + '" loading="lazy">' +
                    '<div class="card-body">' +
                        '<div class="card-title">' + p.name + '</div>' +
                        '<div class="card-desc">' + p.description + '</div>' +
                        '<div class="card-price">' + p.price + ' ‚ÇΩ</div>' +
                        '<button class="btn-add" onclick="addToCart(' + p.id + ')">–í –∫–æ—Ä–∑–∏–Ω—É</button>' +
                    '</div>' +
                '</div>'
            ).join('');
        }

        function selectCategory(id) {
            activeCategory = id;
            renderTabs();
            renderProducts();
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const existing = cart.find(c => c.id === id);
            if (existing) {
                existing.qty++;
            } else {
                cart.push(Object.assign({}, product, { qty: 1 }));
            }
            updateCart();
            showNotification('‚úÖ ' + product.name + ' –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É');
        }

        function updateCart() {
            const count = cart.reduce(function(sum, c) { return sum + c.qty; }, 0);
            document.getElementById('cartCount').textContent = count;
        }

        function openCart() {
            const modal = document.getElementById('cartModal');
            const items = document.getElementById('cartItems');
            const total = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                items.innerHTML = '<div class="empty-cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞<br>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –º–µ–Ω—é</div>';
                total.textContent = '0';
            } else {
                items.innerHTML = cart.map(function(c) {
                    return '<div class="cart-item">' +
                        '<div><strong>' + c.name + '</strong> √ó ' + c.qty + '</div>' +
                        '<div style="font-weight: 600;">' + (c.price * c.qty) + ' ‚ÇΩ</div>' +
                    '</div>';
                }).join('');
                const totalPrice = cart.reduce(function(sum, c) { return sum + c.price * c.qty; }, 0);
                total.textContent = totalPrice;
            }
            
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeCart() {
            document.getElementById('cartModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        function closeCartOnOutside(event) {
            if (event.target.id === 'cartModal') {
                closeCart();
            }
        }

        function checkout() {
            if (cart.length === 0) {
                alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
                return;
            }
            const total = cart.reduce(function(sum, c) { return sum + c.price * c.qty; }, 0);
            const items = cart.map(function(c) { return c.name + ' √ó ' + c.qty; }).join('\n');
            alert('‚úÖ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!\n\n' + items + '\n\n–ò—Ç–æ–≥–æ: ' + total + ' ‚ÇΩ\n\n(–ü–æ–∫–∞ —ç—Ç–æ –¥–µ–º–æ-–≤–µ—Ä—Å–∏—è)');
            cart = [];
            updateCart();
            closeCart();
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #4CAF50; color: white; padding: 12px 24px; border-radius: 8px; z-index: 1000; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.2);';
            document.body.appendChild(notification);
            setTimeout(function() { notification.remove(); }, 2000);
        }

        renderTabs();
        renderProducts();
    </script>
</body>
</html>
